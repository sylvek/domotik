extends layout

block content
  h1= title

  div(ng-controller="domotikIndexCtrl")
    p last data (refreshed every 20s)
    div#last_values {{last_temp}} {{last_watt}}
    div#last_capture
      img(ng-src="{{lastCapture}}")

    p last 24h data
    div
      nvd3-line-chart(
        data="twenty_four_hours_watt",
        objectEquality="true",
        isArea="false",
        showLegend="true",
        showXAxis="true",
        showYAxis="true",
        tooltips="true",
        interactive="true",
        useInteractiveGuideLine="true",
        interpolate="basis",
        xAxisTickFormat="xAxisTickFormat_Time_Format()"
        yAxisTickFormat="yAxisTickFormat_Watt_Format()"
        yAxisLabel="Power (W)"
        xAxisLabel="last 24 hours"
        margin="{left:100,top:20,bottom:20,right:10}"
        height="300")
      nvd3-line-chart(
        data="twenty_four_hours_temp",
        objectEquality="true",
        isArea="false",
        showLegend="true",
        showXAxis="true",
        showYAxis="true",
        tooltips="true",
        interactive="true",
        useInteractiveGuideLine="true",
        interpolate="basis",
        xAxisTickFormat="xAxisTickFormat_Time_Format()"
        yAxisTickFormat="yAxisTickFormat_Temp_Format()"
        yAxisLabel="Temperature (C)"
        xAxisLabel="last 24 hours"
        margin="{left:100,top:20,bottom:20,right:10}"
        height="300")
